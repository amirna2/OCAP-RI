/*
 *         NOTICE OF SOFTWARE ACKNOWLEDGMENT AND REDISTRIBUTION 
 *
 * The software (named NDRI, for NIST/DASE API RI) provided herein is released by 
 * the National Institute of Standards and Technology (NIST), an agency of the 
 * U.S. Department of Commerce, Gaithersburg MD 20899, USA. The software presented
 * here is intended to be utilized for research purposes only and bear no warranty,
 * either express or implied. NIST does not assume legal liability nor 
 * responsibility for a USER's use of a NIST-derived software product or the 
 * results of such use. 
 *
 * Please note that within the United States, copyright protection, under Section 
 * 105 of the United States Code, Title 17, is not available for any work of the 
 * United States Government and/or for any works created by United States 
 * Government employees. USER acknowledges that this software contains work which 
 * was created by NIST employees and is therefore in the public domain and is not
 * subject to copyright. The USER may use, distribute, or incorporate this code or
 * any part of it provided the USER acknowledges this via an explicit 
 * acknowledgment of NIST-related contributions to the USER's work. USER also 
 * agrees to acknowledge, via an explicit acknowledgment, that modifications or 
 * alterations have been made to this software by USER before redistribution. 
 */

package org.cablelabs.ocap.util.string;

import java.io.ByteArrayInputStream;

/**
 * This class is used to decode strings that were encoded using the Huffman
 * encoding algorithm specified in the multiple_string_structure in ATSC A/65.
 */
public class ATSCHuffmanDecoder
{
    /**
     * Decodes an encoded stream of bytes using the specified ATSC decode table.
     * 
     * @param byteStream
     *            stream containing the bytes to be decoded
     * @param type
     *            if equal to 1, the string should be decoded using the program
     *            title decode tables. If type equals 2, then the program
     *            description decode tables should be used.
     * @return a String instance containing the decoded string.
     */
    public static String decodeHuffmanString(ByteArrayInputStream byteStream, int type)
    {
        StringBuffer returnBuffer = new StringBuffer();
        int decode_table[];
        int base_offset;
        int last_char = 0;
        int bit_index = 7;
        int tree_offset;
        int bit;
        int val;
        int current_byte;

        // offset of the next node relative to the top of the current tree
        int node_offset;
        boolean more_data = true;
        boolean more_nodes = false;

        if (type == 1)
        {
            decode_table = title_table;
        }
        else if (type == 2)
        {
            decode_table = descr_table;
        }
        else
        {
            return null;
        }

        current_byte = byteStream.read();

        while (more_data)
        {
            // index into the offsets list
            base_offset = (last_char * 2) & 0xFF;

            // integer specifying the location from the beginning of the table
            // of
            // the last_char character's order-1 tree.
            tree_offset = ((decode_table[base_offset] & 0xFF) << 8) | (decode_table[base_offset + 1] & 0xFF);
            node_offset = 0;
            more_nodes = true;

            // follow each node until a leaf node is reached
            while (more_nodes)
            {
                // get next bit from encoded input string
                bit = (current_byte >> bit_index) & 0x1;

                // update the byte & bit index
                if (bit_index == 0)
                {
                    bit_index = 7;
                    current_byte = byteStream.read();
                }
                else
                {
                    bit_index--;
                }

                // node_offset is supposed to be word offset instead of a byte
                // offset
                node_offset = decode_table[tree_offset + (node_offset * 2) + bit];

                // a leaf node has its msb set
                if ((node_offset & 0x80) != 0)
                {
                    more_nodes = false;
                    last_char = node_offset & 0x7F;

                    // the ESC char is followed by an uncompressed char
                    if (last_char == 27)
                    {
                        int next_byte = byteStream.read();
                        val = (current_byte << 8) | next_byte;
                        current_byte = next_byte;
                        last_char = (val >> (bit_index + 1)) & 0xFF;
                    }

                    // zero char terminates the string
                    if (last_char == 0)
                    {
                        more_data = false;
                        more_nodes = false;
                        break;
                    }
                    returnBuffer.append((char) last_char);
                }
            }
        }
        return returnBuffer.toString();
    }

    /*
     * Huffman decode tables from Appendix C of A/65
     */

    private static int descr_table[] = {
    /* 0 */
    1, 0, 1, 44, 1, 46, 1, 48, 1, 50,
    /* 10 */
    1, 52, 1, 54, 1, 56, 1, 58, 1, 60,
    /* 20 */
    1, 62, 1, 64, 1, 66, 1, 68, 1, 70,
    /* 30 */
    1, 72, 1, 74, 1, 76, 1, 78, 1, 80,
    /* 40 */
    1, 82, 1, 84, 1, 86, 1, 88, 1, 90,
    /* 50 */
    1, 92, 1, 94, 1, 96, 1, 98, 1, 100,
    /* 60 */
    1, 102, 1, 104, 1, 106, 1, 222, 1, 224,
    /* 70 */
    1, 234, 1, 236, 1, 238, 1, 240, 1, 242,
    /* 80 */
    1, 248, 1, 250, 1, 252, 1, 254, 2, 0,
    /* 90 */
    2, 4, 2, 22, 2, 32, 2, 34, 2, 44,
    /* 100 */
    2, 50, 2, 56, 2, 60, 2, 64, 2, 68,
    /* 110 */
    2, 70, 2, 74, 2, 76, 2, 84, 2, 86,
    /* 120 */
    2, 88, 2, 90, 2, 92, 2, 94, 2, 96,
    /* 130 */
    2, 98, 2, 118, 2, 132, 2, 148, 2, 162,
    /* 140 */
    2, 178, 2, 186, 2, 200, 2, 210, 2, 222,
    /* 150 */
    2, 234, 2, 242, 2, 252, 3, 8, 3, 16,
    /* 160 */
    3, 26, 3, 40, 3, 42, 3, 52, 3, 74,
    /* 170 */
    3, 90, 3, 94, 3, 100, 3, 110, 3, 112,
    /* 180 */
    3, 114, 3, 116, 3, 118, 3, 120, 3, 122,
    /* 190 */
    3, 124, 3, 126, 3, 128, 3, 180, 3, 206,
    /* 200 */
    3, 240, 4, 26, 4, 88, 4, 110, 4, 142,
    /* 210 */
    4, 172, 4, 216, 4, 224, 4, 244, 5, 36,
    /* 220 */
    5, 64, 5, 118, 5, 174, 5, 206, 5, 208,
    /* 230 */
    6, 6, 6, 52, 6, 96, 6, 134, 6, 146,
    /* 240 */
    6, 170, 6, 184, 6, 220, 6, 236, 6, 238,
    /* 250 */
    6, 240, 6, 242, 6, 244, 20, 21, 155, 214,
    /* 260 */
    201, 207, 215, 199, 1, 162, 206, 203, 2, 3,
    /* 270 */
    197, 204, 198, 200, 4, 196, 5, 194, 6, 195,
    /* 280 */
    210, 7, 211, 8, 202, 212, 9, 205, 208, 10,
    /* 290 */
    193, 11, 12, 13, 14, 15, 16, 17, 18, 19,
    /* 300 */
    155, 155, 155, 155, 155, 155, 155, 155, 155, 155,
    /* 310 */
    155, 155, 155, 155, 155, 155, 155, 155, 155, 155,
    /* 320 */
    155, 155, 155, 155, 155, 155, 155, 155, 155, 155,
    /* 330 */
    155, 155, 155, 155, 155, 155, 155, 155, 155, 155,
    /* 340 */
    155, 155, 155, 155, 155, 155, 155, 155, 155, 155,
    /* 350 */
    155, 155, 155, 155, 155, 155, 155, 155, 155, 155,
    /* 360 */
    155, 155, 56, 57, 173, 175, 183, 218, 168, 179,
    /* 370 */
    181, 1, 2, 155, 180, 241, 162, 213, 214, 217,
    /* 380 */
    3, 4, 5, 207, 6, 201, 249, 234, 235, 245,
    /* 390 */
    246, 7, 8, 9, 178, 197, 198, 177, 10, 238,
    /* 400 */
    203, 11, 212, 12, 196, 200, 210, 13, 14, 15,
    /* 410 */
    199, 202, 206, 208, 215, 16, 194, 17, 204, 236,
    /* 420 */
    229, 231, 18, 205, 19, 20, 195, 21, 22, 23,
    /* 430 */
    237, 24, 25, 242, 26, 211, 27, 28, 228, 29,
    /* 440 */
    193, 227, 30, 233, 240, 226, 247, 31, 243, 230,
    /* 450 */
    32, 33, 34, 232, 239, 35, 36, 37, 38, 39,
    /* 460 */
    40, 41, 42, 244, 43, 44, 45, 46, 47, 225,
    /* 470 */
    48, 49, 50, 51, 52, 53, 54, 55, 155, 155,
    /* 480 */
    3, 4, 128, 174, 200, 212, 1, 2, 155, 160,
    /* 490 */
    155, 155, 155, 155, 155, 155, 155, 155, 2, 243,
    /* 500 */
    160, 244, 155, 1, 155, 155, 172, 155, 155, 155,
    /* 510 */
    155, 155, 1, 160, 155, 162, 7, 8, 226, 228,
    /* 520 */
    229, 230, 160, 242, 225, 1, 2, 243, 227, 3,
    /* 530 */
    4, 5, 155, 6, 4, 128, 202, 211, 162, 1,
    /* 540 */
    155, 2, 3, 160, 155, 160, 3, 4, 155, 183,
    /* 550 */
    244, 160, 176, 243, 1, 2, 185, 2, 184, 155,
    /* 560 */
    160, 1, 174, 2, 182, 155, 1, 160, 160, 1,
    /* 570 */
    155, 176, 174, 1, 155, 160, 174, 1, 160, 155,
    /* 580 */
    155, 155, 155, 1, 172, 174, 155, 155, 2, 3,
    /* 590 */
    155, 160, 181, 182, 184, 1, 155, 160, 155, 160,
    /* 600 */
    155, 155, 155, 155, 155, 155, 155, 160, 155, 155,
    /* 610 */
    8, 9, 230, 245, 243, 244, 155, 228, 1, 237,
    /* 620 */
    2, 3, 4, 242, 5, 6, 236, 238, 7, 160,
    /* 630 */
    5, 6, 155, 236, 245, 1, 2, 225, 239, 229,
    /* 640 */
    233, 242, 3, 4, 6, 7, 155, 233, 249, 242,
    /* 650 */
    245, 1, 2, 3, 236, 239, 225, 4, 232, 5,
    /* 660 */
    5, 6, 249, 242, 245, 155, 229, 239, 1, 2,
    /* 670 */
    233, 225, 3, 4, 6, 7, 225, 233, 238, 246,
    /* 680 */
    228, 236, 243, 1, 2, 242, 3, 4, 155, 5,
    /* 690 */
    2, 3, 229, 236, 155, 239, 1, 242, 5, 6,
    /* 700 */
    245, 239, 155, 236, 233, 1, 225, 242, 2, 229,
    /* 710 */
    3, 4, 3, 4, 155, 229, 233, 245, 225, 1,
    /* 720 */
    239, 2, 4, 5, 160, 201, 243, 155, 174, 242,
    /* 730 */
    1, 2, 3, 238, 239, 5, 155, 174, 233, 229,
    /* 740 */
    1, 245, 2, 225, 3, 4, 229, 3, 225, 233,
    /* 750 */
    242, 155, 1, 2, 3, 4, 155, 233, 245, 1,
    /* 760 */
    229, 2, 239, 225, 225, 5, 155, 227, 239, 1,
    /* 770 */
    245, 229, 2, 3, 233, 4, 229, 3, 155, 233,
    /* 780 */
    1, 225, 239, 2, 3, 4, 167, 238, 236, 242,
    /* 790 */
    243, 1, 155, 2, 225, 6, 155, 232, 233, 1,
    /* 800 */
    242, 236, 2, 239, 3, 229, 4, 5, 155, 155,
    /* 810 */
    3, 4, 155, 174, 1, 233, 2, 225, 229, 239,
    /* 820 */
    9, 10, 246, 249, 1, 174, 227, 233, 245, 155,
    /* 830 */
    229, 239, 2, 3, 225, 4, 232, 5, 6, 244,
    /* 840 */
    7, 8, 232, 7, 229, 247, 214, 225, 155, 233,
    /* 850 */
    242, 1, 2, 3, 4, 239, 5, 6, 174, 1,
    /* 860 */
    155, 238, 233, 2, 229, 155, 160, 1, 3, 4,
    /* 870 */
    155, 232, 229, 225, 239, 1, 233, 2, 155, 155,
    /* 880 */
    155, 239, 155, 155, 155, 155, 155, 155, 155, 155,
    /* 890 */
    155, 155, 155, 155, 155, 155, 24, 25, 232, 239,
    /* 900 */
    248, 155, 167, 247, 250, 1, 2, 3, 4, 229,
    /* 910 */
    174, 5, 230, 226, 6, 246, 235, 245, 233, 7,
    /* 920 */
    240, 249, 231, 8, 9, 228, 10, 227, 11, 237,
    /* 930 */
    12, 243, 13, 14, 15, 236, 16, 244, 17, 18,
    /* 940 */
    242, 160, 19, 20, 21, 238, 22, 23, 11, 12,
    /* 950 */
    228, 243, 155, 174, 226, 1, 2, 3, 236, 160,
    /* 960 */
    4, 233, 242, 245, 5, 249, 225, 6, 239, 7,
    /* 970 */
    229, 8, 9, 10, 15, 16, 241, 174, 196, 249,
    /* 980 */
    172, 1, 227, 2, 155, 242, 3, 4, 160, 236,
    /* 990 */
    245, 5, 6, 233, 7, 235, 8, 244, 9, 229,
    /* 1000 */
    10, 239, 225, 232, 11, 12, 13, 14, 19, 20,
    /* 1010 */
    167, 187, 230, 237, 247, 231, 246, 1, 2, 155,
    /* 1020 */
    238, 3, 4, 236, 5, 245, 6, 172, 228, 249,
    /* 1030 */
    242, 7, 8, 9, 174, 10, 239, 11, 225, 243,
    /* 1040 */
    12, 233, 13, 14, 15, 16, 229, 17, 18, 160,
    /* 1050 */
    29, 30, 169, 232, 245, 155, 1, 173, 187, 235,
    /* 1060 */
    250, 2, 167, 230, 226, 231, 3, 4, 5, 6,
    /* 1070 */
    233, 248, 7, 172, 239, 240, 8, 237, 246, 249,
    /* 1080 */
    9, 247, 10, 11, 174, 12, 227, 13, 229, 244,
    /* 1090 */
    14, 15, 228, 16, 236, 17, 225, 18, 19, 20,
    /* 1100 */
    21, 22, 238, 243, 23, 24, 242, 160, 25, 26,
    /* 1110 */
    27, 28, 9, 10, 174, 155, 236, 1, 245, 2,
    /* 1120 */
    244, 230, 3, 225, 229, 233, 4, 242, 239, 5,
    /* 1130 */
    6, 7, 160, 8, 14, 15, 173, 231, 155, 167,
    /* 1140 */
    249, 1, 236, 2, 172, 242, 3, 174, 243, 245,
    /* 1150 */
    4, 5, 239, 6, 7, 233, 225, 8, 9, 232,
    /* 1160 */
    10, 11, 229, 12, 160, 13, 13, 14, 167, 172,
    /* 1170 */
    243, 173, 1, 2, 155, 249, 245, 174, 3, 238,
    /* 1180 */
    4, 242, 5, 6, 244, 7, 8, 9, 239, 225,
    /* 1190 */
    160, 10, 233, 11, 12, 229, 20, 21, 172, 226,
    /* 1200 */
    248, 155, 174, 250, 1, 235, 2, 160, 3, 4,
    /* 1210 */
    240, 5, 6, 230, 246, 7, 228, 237, 231, 8,
    /* 1220 */
    225, 239, 242, 9, 10, 11, 236, 12, 229, 227,
    /* 1230 */
    13, 244, 14, 243, 15, 16, 17, 238, 18, 19,
    /* 1240 */
    3, 239, 155, 225, 229, 245, 1, 2, 8, 9,
    /* 1250 */
    236, 249, 167, 238, 1, 172, 155, 174, 2, 3,
    /* 1260 */
    4, 243, 5, 233, 6, 160, 7, 229, 22, 23,
    /* 1270 */
    167, 173, 238, 227, 235, 242, 155, 226, 1, 2,
    /* 1280 */
    245, 3, 244, 172, 4, 5, 230, 237, 246, 6,
    /* 1290 */
    174, 240, 7, 8, 243, 9, 10, 228, 11, 12,
    /* 1300 */
    249, 13, 239, 14, 225, 15, 16, 233, 236, 17,
    /* 1310 */
    160, 229, 18, 19, 20, 21, 12, 13, 167, 187,
    /* 1320 */
    155, 1, 249, 174, 226, 2, 237, 243, 3, 245,
    /* 1330 */
    239, 240, 4, 5, 233, 6, 7, 8, 9, 160,
    /* 1340 */
    225, 229, 10, 11, 25, 26, 173, 187, 226, 234,
    /* 1350 */
    237, 242, 250, 230, 236, 1, 2, 3, 155, 245,
    /* 1360 */
    4, 167, 246, 249, 5, 6, 235, 239, 7, 8,
    /* 1370 */
    9, 10, 172, 11, 12, 227, 174, 13, 238, 233,
    /* 1380 */
    14, 225, 15, 243, 16, 17, 244, 18, 231, 229,
    /* 1390 */
    19, 20, 228, 21, 22, 23, 160, 24, 26, 27,
    /* 1400 */
    194, 155, 173, 172, 248, 1, 174, 2, 3, 229,
    /* 1410 */
    231, 232, 249, 233, 235, 4, 227, 225, 5, 246,
    /* 1420 */
    6, 228, 7, 226, 240, 8, 9, 243, 244, 247,
    /* 1430 */
    239, 10, 11, 12, 13, 236, 14, 15, 16, 245,
    /* 1440 */
    237, 17, 230, 160, 18, 242, 19, 20, 21, 238,
    /* 1450 */
    22, 23, 24, 25, 14, 15, 173, 237, 249, 155,
    /* 1460 */
    174, 1, 243, 2, 3, 245, 244, 240, 4, 239,
    /* 1470 */
    5, 233, 6, 232, 160, 225, 236, 7, 242, 8,
    /* 1480 */
    229, 9, 10, 11, 12, 13, 155, 245, 25, 26,
    /* 1490 */
    169, 187, 246, 230, 1, 155, 173, 226, 240, 2,
    /* 1500 */
    167, 3, 4, 5, 245, 227, 172, 231, 242, 6,
    /* 1510 */
    235, 7, 236, 237, 238, 249, 8, 174, 9, 10,
    /* 1520 */
    228, 11, 12, 244, 13, 243, 14, 15, 16, 225,
    /* 1530 */
    239, 17, 233, 18, 19, 229, 20, 160, 21, 22,
    /* 1540 */
    23, 24, 160, 22, 162, 167, 226, 235, 237, 238,
    /* 1550 */
    155, 247, 1, 2, 3, 187, 249, 240, 4, 5,
    /* 1560 */
    236, 6, 7, 8, 245, 225, 9, 172, 227, 10,
    /* 1570 */
    232, 11, 233, 12, 239, 243, 174, 13, 14, 229,
    /* 1580 */
    15, 16, 17, 244, 18, 19, 20, 21, 20, 21,
    /* 1590 */
    187, 226, 173, 237, 1, 155, 167, 227, 172, 236,
    /* 1600 */
    238, 2, 247, 3, 4, 249, 5, 6, 7, 8,
    /* 1610 */
    244, 174, 245, 9, 10, 242, 225, 243, 11, 12,
    /* 1620 */
    13, 233, 14, 15, 239, 229, 16, 160, 232, 17,
    /* 1630 */
    18, 19, 17, 18, 239, 246, 155, 235, 249, 1,
    /* 1640 */
    160, 226, 2, 225, 3, 237, 4, 227, 233, 5,
    /* 1650 */
    228, 229, 231, 6, 236, 240, 7, 8, 9, 10,
    /* 1660 */
    11, 243, 12, 244, 238, 13, 242, 14, 15, 16,
    /* 1670 */
    5, 229, 243, 249, 155, 1, 239, 2, 3, 225,
    /* 1680 */
    4, 233, 10, 11, 174, 155, 236, 237, 1, 2,
    /* 1690 */
    243, 238, 242, 3, 229, 4, 232, 160, 225, 5,
    /* 1700 */
    239, 6, 7, 8, 233, 9, 5, 6, 160, 172,
    /* 1710 */
    173, 244, 233, 1, 2, 225, 229, 3, 155, 4,
    /* 1720 */
    17, 160, 191, 225, 226, 230, 237, 228, 233, 247,
    /* 1730 */
    167, 1, 2, 187, 3, 4, 236, 5, 155, 238,
    /* 1740 */
    6, 239, 7, 172, 229, 243, 8, 9, 10, 174,
    /* 1750 */
    11, 12, 13, 14, 15, 16, 6, 7, 160, 174,
    /* 1760 */
    225, 229, 236, 250, 155, 239, 233, 1, 2, 3,
    /* 1770 */
    4, 5, 155, 155, 155, 155, 155, 155, 155, 155,
    /* 1780 */
    155, 155 };

    private static int title_table[] = {
    /* 0 */
    1, 0, 1, 58, 1, 60, 1, 62, 1, 64,
    /* 10 */
    1, 66, 1, 68, 1, 70, 1, 72, 1, 74,
    /* 20 */
    1, 76, 1, 78, 1, 80, 1, 82, 1, 84,
    /* 30 */
    1, 86, 1, 88, 1, 90, 1, 92, 1, 94,
    /* 40 */
    1, 96, 1, 98, 1, 100, 1, 102, 1, 104,
    /* 50 */
    1, 106, 1, 108, 1, 110, 1, 112, 1, 114,
    /* 60 */
    1, 116, 1, 118, 1, 120, 1, 206, 1, 210,
    /* 70 */
    1, 212, 1, 214, 1, 216, 1, 218, 1, 220,
    /* 80 */
    1, 230, 1, 232, 1, 234, 1, 240, 1, 242,
    /* 90 */
    1, 244, 2, 6, 2, 18, 2, 20, 2, 28,
    /* 100 */
    2, 40, 2, 48, 2, 52, 2, 54, 2, 56,
    /* 110 */
    2, 58, 2, 60, 2, 62, 2, 70, 2, 72,
    /* 120 */
    2, 74, 2, 76, 2, 78, 2, 80, 2, 82,
    /* 130 */
    2, 84, 2, 126, 2, 146, 2, 172, 2, 186,
    /* 140 */
    2, 210, 2, 228, 2, 250, 3, 6, 3, 30,
    /* 150 */
    3, 38, 3, 50, 3, 62, 3, 82, 3, 100,
    /* 160 */
    3, 122, 3, 148, 3, 152, 3, 164, 3, 200,
    /* 170 */
    3, 222, 3, 230, 3, 244, 4, 4, 4, 6,
    /* 180 */
    4, 12, 4, 16, 4, 18, 4, 20, 4, 22,
    /* 190 */
    4, 24, 4, 26, 4, 28, 4, 82, 4, 106,
    /* 200 */
    4, 142, 4, 174, 4, 238, 5, 6, 5, 40,
    /* 210 */
    5, 68, 5, 114, 5, 118, 5, 144, 5, 190,
    /* 220 */
    5, 214, 6, 10, 6, 68, 6, 100, 6, 102,
    /* 230 */
    6, 154, 6, 208, 6, 252, 7, 34, 7, 44,
    /* 240 */
    7, 70, 7, 84, 7, 124, 7, 138, 7, 140,
    /* 250 */
    7, 142, 7, 144, 7, 146, 27, 28, 180, 164,
    /* 260 */
    178, 183, 218, 1, 209, 2, 3, 155, 4, 213,
    /* 270 */
    217, 5, 203, 214, 6, 207, 7, 8, 202, 9,
    /* 280 */
    201, 197, 198, 10, 210, 196, 199, 204, 208, 200,
    /* 290 */
    215, 206, 11, 193, 12, 194, 205, 195, 13, 14,
    /* 300 */
    15, 16, 211, 17, 212, 18, 19, 20, 21, 22,
    /* 310 */
    23, 24, 25, 26, 155, 155, 155, 155, 155, 155,
    /* 320 */
    155, 155, 155, 155, 155, 155, 155, 155, 155, 155,
    /* 330 */
    155, 155, 155, 155, 155, 155, 155, 155, 155, 155,
    /* 340 */
    155, 155, 155, 155, 155, 155, 155, 155, 155, 155,
    /* 350 */
    155, 155, 155, 155, 155, 155, 155, 155, 155, 155,
    /* 360 */
    155, 155, 155, 155, 155, 155, 155, 155, 155, 155,
    /* 370 */
    155, 155, 155, 155, 155, 155, 41, 42, 216, 229,
    /* 380 */
    185, 1, 167, 177, 236, 209, 2, 173, 178, 218,
    /* 390 */
    227, 179, 3, 228, 230, 4, 155, 226, 5, 6,
    /* 400 */
    7, 8, 9, 213, 10, 214, 11, 217, 12, 166,
    /* 410 */
    233, 203, 197, 207, 13, 14, 202, 201, 15, 199,
    /* 420 */
    16, 17, 225, 18, 19, 198, 210, 200, 206, 193,
    /* 430 */
    196, 208, 204, 20, 21, 239, 194, 215, 22, 205,
    /* 440 */
    23, 244, 212, 24, 25, 26, 195, 211, 27, 28,
    /* 450 */
    29, 30, 31, 32, 33, 34, 35, 36, 37, 38,
    /* 460 */
    39, 40, 1, 128, 160, 155, 155, 155, 155, 155,
    /* 470 */
    177, 155, 155, 155, 155, 160, 4, 243, 228, 185,
    /* 480 */
    1, 244, 160, 155, 2, 3, 155, 155, 155, 155,
    /* 490 */
    1, 2, 155, 193, 200, 211, 155, 155, 155, 160,
    /* 500 */
    7, 8, 177, 210, 211, 212, 213, 173, 205, 193,
    /* 510 */
    1, 2, 3, 160, 4, 155, 5, 6, 160, 5,
    /* 520 */
    201, 215, 211, 1, 2, 155, 174, 128, 3, 4,
    /* 530 */
    155, 155, 2, 3, 173, 155, 1, 128, 160, 176,
    /* 540 */
    4, 5, 128, 155, 177, 178, 160, 176, 185, 1,
    /* 550 */
    2, 3, 2, 3, 177, 186, 1, 176, 155, 128,
    /* 560 */
    128, 1, 176, 155, 155, 184, 155, 155, 155, 155,
    /* 570 */
    155, 176, 155, 160, 2, 3, 177, 179, 185, 176,
    /* 580 */
    1, 155, 155, 160, 155, 155, 155, 155, 155, 155,
    /* 590 */
    155, 155, 155, 128, 155, 155, 19, 20, 170, 173,
    /* 600 */
    174, 246, 231, 244, 226, 233, 1, 2, 194, 240,
    /* 610 */
    155, 243, 227, 230, 247, 3, 245, 4, 5, 6,
    /* 620 */
    242, 7, 8, 9, 10, 11, 12, 228, 160, 13,
    /* 630 */
    236, 238, 14, 237, 15, 16, 17, 18, 8, 9,
    /* 640 */
    193, 211, 155, 1, 195, 2, 233, 236, 3, 242,
    /* 650 */
    245, 4, 239, 225, 5, 229, 6, 7, 11, 12,
    /* 660 */
    193, 249, 1, 194, 207, 229, 245, 155, 233, 2,
    /* 670 */
    160, 3, 4, 5, 242, 6, 236, 7, 225, 8,
    /* 680 */
    9, 232, 10, 239, 5, 6, 249, 155, 1, 245,
    /* 690 */
    2, 242, 233, 229, 239, 3, 225, 4, 10, 11,
    /* 700 */
    241, 245, 243, 1, 237, 249, 195, 2, 236, 238,
    /* 710 */
    228, 248, 3, 155, 246, 4, 5, 225, 6, 7,
    /* 720 */
    8, 9, 7, 8, 160, 155, 204, 1, 229, 2,
    /* 730 */
    236, 245, 239, 3, 233, 242, 4, 5, 225, 6,
    /* 740 */
    9, 10, 174, 236, 249, 193, 232, 1, 155, 2,
    /* 750 */
    3, 4, 225, 245, 233, 5, 229, 6, 242, 239,
    /* 760 */
    7, 8, 239, 5, 128, 155, 245, 1, 2, 233,
    /* 770 */
    225, 3, 229, 4, 238, 11, 186, 212, 174, 242,
    /* 780 */
    227, 1, 160, 2, 128, 155, 237, 3, 201, 243,
    /* 790 */
    244, 4, 5, 6, 7, 8, 9, 10, 2, 3,
    /* 800 */
    155, 245, 1, 225, 239, 229, 5, 233, 225, 239,
    /* 810 */
    245, 238, 155, 229, 1, 2, 3, 4, 4, 5,
    /* 820 */
    160, 155, 1, 245, 2, 229, 239, 3, 225, 233,
    /* 830 */
    8, 9, 170, 212, 1, 155, 227, 2, 242, 3,
    /* 840 */
    229, 4, 245, 249, 233, 5, 239, 6, 7, 225,
    /* 850 */
    229, 8, 206, 160, 198, 245, 1, 2, 155, 194,
    /* 860 */
    3, 225, 4, 239, 5, 233, 6, 7, 9, 10,
    /* 870 */
    228, 243, 230, 246, 247, 240, 242, 1, 236, 2,
    /* 880 */
    3, 160, 155, 4, 5, 245, 6, 7, 238, 8,
    /* 890 */
    11, 12, 160, 243, 249, 174, 210, 199, 1, 155,
    /* 900 */
    2, 245, 3, 4, 5, 233, 236, 6, 229, 7,
    /* 910 */
    239, 8, 225, 9, 242, 10, 1, 245, 155, 214,
    /* 920 */
    4, 5, 232, 155, 1, 245, 2, 225, 233, 239,
    /* 930 */
    3, 229, 16, 17, 170, 236, 241, 174, 160, 247,
    /* 940 */
    237, 238, 1, 2, 155, 235, 3, 4, 5, 6,
    /* 950 */
    227, 7, 239, 8, 233, 245, 9, 225, 229, 240,
    /* 960 */
    232, 10, 11, 12, 13, 244, 14, 15, 232, 10,
    /* 970 */
    173, 206, 155, 1, 214, 2, 245, 247, 3, 4,
    /* 980 */
    225, 229, 233, 5, 242, 6, 239, 7, 8, 9,
    /* 990 */
    238, 3, 236, 174, 1, 155, 2, 240, 6, 233,
    /* 1000 */
    160, 195, 239, 155, 229, 1, 128, 2, 3, 225,
    /* 1010 */
    4, 5, 6, 7, 198, 215, 1, 155, 242, 2,
    /* 1020 */
    3, 232, 229, 225, 4, 233, 239, 5, 155, 155,
    /* 1030 */
    2, 239, 225, 155, 1, 229, 1, 239, 155, 225,
    /* 1040 */
    155, 155, 155, 155, 155, 155, 155, 155, 155, 155,
    /* 1050 */
    155, 155, 25, 26, 155, 186, 229, 234, 248, 1,
    /* 1060 */
    2, 230, 167, 3, 250, 232, 4, 247, 5, 245,
    /* 1070 */
    226, 6, 235, 7, 240, 8, 128, 246, 231, 9,
    /* 1080 */
    228, 10, 160, 233, 11, 227, 249, 12, 13, 237,
    /* 1090 */
    14, 15, 243, 16, 17, 236, 18, 244, 242, 19,
    /* 1100 */
    238, 20, 21, 22, 23, 24, 10, 11, 243, 155,
    /* 1110 */
    245, 226, 1, 128, 160, 2, 229, 242, 233, 3,
    /* 1120 */
    236, 4, 249, 5, 239, 6, 225, 7, 8, 9,
    /* 1130 */
    16, 17, 195, 204, 199, 155, 227, 1, 128, 236,
    /* 1140 */
    249, 2, 243, 3, 245, 4, 5, 242, 6, 233,
    /* 1150 */
    160, 7, 8, 239, 244, 9, 10, 225, 11, 232,
    /* 1160 */
    235, 229, 12, 13, 14, 15, 14, 15, 174, 245,
    /* 1170 */
    247, 1, 236, 2, 228, 231, 242, 3, 155, 239,
    /* 1180 */
    4, 246, 5, 6, 249, 243, 7, 233, 225, 8,
    /* 1190 */
    9, 128, 10, 11, 229, 12, 13, 160, 30, 31,
    /* 1200 */
    155, 161, 173, 232, 234, 241, 245, 250, 1, 2,
    /* 1210 */
    3, 4, 186, 248, 167, 226, 233, 5, 6, 7,
    /* 1220 */
    230, 237, 231, 235, 8, 9, 246, 240, 10, 239,
    /* 1230 */
    11, 227, 12, 13, 14, 249, 15, 228, 236, 16,
    /* 1240 */
    229, 17, 244, 247, 18, 19, 225, 20, 21, 22,
    /* 1250 */
    238, 243, 23, 128, 24, 25, 242, 26, 27, 160,
    /* 1260 */
    28, 29, 160, 11, 245, 155, 1, 236, 243, 242,
    /* 1270 */
    128, 225, 2, 3, 244, 233, 239, 230, 4, 5,
    /* 1280 */
    6, 7, 229, 8, 9, 10, 15, 16, 186, 249,
    /* 1290 */
    167, 244, 155, 1, 231, 236, 2, 238, 3, 239,
    /* 1300 */
    245, 4, 242, 5, 6, 233, 7, 243, 225, 8,
    /* 1310 */
    9, 10, 11, 229, 128, 12, 232, 160, 13, 14,
    /* 1320 */
    229, 13, 226, 245, 247, 155, 236, 1, 249, 238,
    /* 1330 */
    2, 3, 4, 242, 5, 128, 6, 160, 225, 239,
    /* 1340 */
    7, 244, 233, 8, 9, 10, 11, 12, 21, 22,
    /* 1350 */
    161, 248, 233, 235, 1, 128, 155, 250, 226, 2,
    /* 1360 */
    3, 4, 160, 240, 5, 6, 7, 225, 8, 230,
    /* 1370 */
    242, 237, 246, 9, 228, 10, 239, 244, 236, 243,
    /* 1380 */
    231, 229, 11, 227, 12, 13, 14, 15, 16, 17,
    /* 1390 */
    18, 19, 238, 20, 239, 1, 155, 225, 11, 12,
    /* 1400 */
    212, 239, 230, 236, 247, 225, 1, 186, 2, 155,
    /* 1410 */
    249, 3, 4, 5, 243, 6, 7, 8, 233, 160,
    /* 1420 */
    9, 128, 229, 10, 21, 22, 167, 186, 227, 247,
    /* 1430 */
    242, 173, 226, 1, 2, 155, 230, 3, 237, 246,
    /* 1440 */
    4, 235, 5, 244, 6, 7, 8, 243, 9, 245,
    /* 1450 */
    10, 239, 11, 12, 128, 249, 225, 13, 228, 233,
    /* 1460 */
    160, 14, 15, 236, 229, 16, 17, 18, 19, 20,
    /* 1470 */
    10, 11, 249, 155, 245, 243, 1, 2, 226, 237,
    /* 1480 */
    128, 3, 240, 239, 4, 160, 5, 233, 6, 225,
    /* 1490 */
    7, 8, 9, 229, 24, 25, 226, 234, 242, 232,
    /* 1500 */
    236, 237, 250, 155, 1, 245, 2, 3, 246, 4,
    /* 1510 */
    186, 230, 5, 6, 235, 239, 7, 167, 249, 8,
    /* 1520 */
    9, 10, 11, 227, 12, 238, 225, 13, 243, 14,
    /* 1530 */
    233, 15, 16, 244, 128, 228, 229, 17, 18, 231,
    /* 1540 */
    160, 19, 20, 21, 22, 23, 27, 28, 174, 250,
    /* 1550 */
    191, 1, 167, 155, 2, 233, 248, 249, 3, 229,
    /* 1560 */
    232, 4, 225, 235, 5, 226, 6, 7, 227, 8,
    /* 1570 */
    231, 244, 9, 128, 246, 240, 10, 228, 11, 243,
    /* 1580 */
    247, 12, 13, 239, 236, 160, 14, 15, 237, 230,
    /* 1590 */
    16, 245, 17, 18, 19, 20, 21, 242, 22, 238,
    /* 1600 */
    23, 24, 25, 26, 14, 15, 237, 167, 155, 228,
    /* 1610 */
    1, 249, 243, 242, 244, 2, 232, 3, 236, 240,
    /* 1620 */
    4, 225, 233, 5, 6, 128, 160, 7, 8, 9,
    /* 1630 */
    10, 229, 239, 11, 12, 13, 155, 245, 24, 25,
    /* 1640 */
    186, 172, 246, 155, 240, 226, 1, 230, 2, 167,
    /* 1650 */
    174, 231, 3, 227, 245, 4, 237, 5, 6, 7,
    /* 1660 */
    235, 8, 9, 238, 242, 10, 228, 11, 249, 236,
    /* 1670 */
    12, 13, 244, 128, 14, 239, 243, 160, 225, 15,
    /* 1680 */
    233, 16, 17, 229, 18, 19, 20, 21, 22, 23,
    /* 1690 */
    25, 26, 167, 172, 191, 195, 200, 228, 230, 237,
    /* 1700 */
    242, 174, 236, 238, 249, 1, 2, 3, 4, 186,
    /* 1710 */
    5, 155, 245, 6, 7, 8, 9, 235, 240, 10,
    /* 1720 */
    11, 12, 225, 227, 13, 232, 14, 15, 239, 16,
    /* 1730 */
    17, 243, 18, 233, 19, 229, 20, 21, 244, 22,
    /* 1740 */
    23, 160, 24, 128, 20, 21, 186, 191, 228, 247,
    /* 1750 */
    155, 167, 1, 238, 2, 3, 4, 227, 226, 237,
    /* 1760 */
    5, 249, 6, 244, 7, 236, 8, 245, 242, 9,
    /* 1770 */
    225, 243, 10, 239, 11, 12, 13, 233, 128, 229,
    /* 1780 */
    14, 160, 15, 232, 16, 17, 18, 19, 17, 18,
    /* 1790 */
    235, 250, 128, 230, 155, 1, 160, 2, 3, 233,
    /* 1800 */
    225, 4, 228, 240, 237, 226, 227, 231, 236, 5,
    /* 1810 */
    229, 6, 7, 8, 9, 244, 10, 11, 12, 243,
    /* 1820 */
    238, 13, 14, 242, 15, 16, 4, 229, 243, 239,
    /* 1830 */
    155, 1, 225, 2, 3, 233, 11, 12, 167, 226,
    /* 1840 */
    236, 227, 242, 1, 155, 2, 3, 4, 233, 239,
    /* 1850 */
    238, 229, 225, 128, 5, 160, 6, 7, 8, 9,
    /* 1860 */
    243, 10, 5, 6, 155, 160, 225, 229, 233, 1,
    /* 1870 */
    128, 240, 2, 244, 3, 4, 160, 19, 227, 173,
    /* 1880 */
    228, 233, 238, 239, 240, 244, 246, 161, 225, 237,
    /* 1890 */
    1, 226, 2, 3, 4, 167, 5, 6, 247, 7,
    /* 1900 */
    155, 236, 8, 229, 9, 10, 11, 12, 13, 14,
    /* 1910 */
    243, 15, 16, 17, 128, 18, 5, 6, 229, 250,
    /* 1920 */
    160, 249, 155, 1, 128, 233, 2, 225, 3, 4,
    /* 1930 */
    155, 155, 155, 155, 155, 155, 155, 155, 155, 155 };
}
